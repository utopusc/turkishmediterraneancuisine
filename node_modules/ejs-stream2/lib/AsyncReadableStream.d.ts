/*!
 * Copyright 2019 yangjunbao <yangjunbao@shimo.im>. All rights reserved.
 * @since 2019-10-10 12:08:58
 */
/// <reference types="node" />
import { Readable, ReadableOptions } from 'stream';
export declare type BaseChunkType = NodeJS.ReadableStream | Uint8Array | string;
export declare type ChunkType = BaseChunkType | Promise<BaseChunkType> | Array<BaseChunkType | Promise<BaseChunkType>>;
export declare class AsyncReadableStream extends Readable {
    private chunks;
    private current;
    private nextSize;
    private isStoped;
    constructor(options?: ReadableOptions);
    pushChunk(chunk: ChunkType): void;
    end(): void;
    private handleError;
    private handleData;
    private handleEnd;
    private removeHandlers;
    _read(size: number): void;
    _destroy(error: Error | null, callback: (error?: Error | null) => void): void;
}
